<!--
 Copyright (c) 2021, 2026, Oracle and/or its affiliates.
 Licensed under The Universal Permissive License (UPL), Version 1.0 as shown at https://oss.oracle.com/licenses/upl/
 -->
<oj-dialog id="userSettingsDialog" class="wkt-user-settings-dialog" :class="[[themeClasses]]" initial-visibility="show">
  <div slot="header">
    <span class="oj-dialog-title"><oj-bind-text value="[[labelMapper('title')]]"></oj-bind-text></span>
  </div>
  <div slot="body">
    <div class="oj-panel">
      <h6 class="wkt-subheading"><oj-bind-text value="[[labelMapper('proxy-section-title')]]"></oj-bind-text></h6>
      <oj-form-layout max-columns="1" direction="row">
        <oj-input-text label-hint="[[labelMapper('https-proxy-url-label')]]"
                       value="{{proxyUrl}}"
                       validators="[[getProxyUrlValidators()]]"
                       help.instruction="[[labelMapper('https-proxy-url-help')]]">
        </oj-input-text>
        <oj-input-text label-hint="[[labelMapper('bypass-proxy-hosts-label')]]"
                       value="{{bypassProxyHosts}}"
                       help.instruction="[[labelMapper('bypass-proxy-hosts-help')]]">
        </oj-input-text>
      </oj-form-layout>
    </div>

    <div class="oj-panel">
      <h6 class="wkt-subheading"><oj-bind-text value="[[labelMapper('github-auth-token-title')]]"></oj-bind-text></h6>
      <oj-form-layout max-columns="1" direction="row">
        <oj-input-password label-hint="[[labelMapper('github-auth-token-label')]]"
                           value="{{gitHubAuthToken}}"
                           mask-icon="visible"
                           help.instruction="[[labelMapper('github-auth-token-help')]]">
        </oj-input-password>
      </oj-form-layout>
    </div>

    <div class="oj-panel">
      <h6 class="wkt-subheading"><oj-bind-text value="[[labelMapper('appearance-mode-title')]]"></oj-bind-text></h6>
      <oj-form-layout max-columns="1" direction="row">
        <oj-c-select-single label-hint="[[labelMapper('appearance-mode-label')]]"
                            value="{{appearanceMode}}"
                            data="[[appearanceModesDP]]"
                            item-text="label"
                            help.instruction="[[labelMapper('appearance-mode-help')]]">
        </oj-c-select-single>
      </oj-form-layout>
    </div>

    <oj-bind-if test="[[isLinux() === true]]">
      <div class="oj-panel">
        <h6 class="wkt-subheading"><oj-bind-text value="[[labelMapper('linux-disable-hardware-acceleration-title')]]"></oj-bind-text></h6>
        <oj-form-layout max-columns="1" direction="row">
          <oj-switch label-hint="[[labelMapper('linux-disable-hardware-acceleration-label')]]"
                     value="{{disableLinuxHardwareAcceleration}}"
                     help.instruction="[[labelMapper('linux-disable-hardware-acceleration-help')]]">
          </oj-switch>
        </oj-form-layout>
      </div>
    </oj-bind-if>

    <oj-bind-if test="[[isLinuxAppImage() === true]]">
      <div class="oj-panel">
        <h6 class="wkt-subheading"><oj-bind-text value="[[labelMapper('external-tools-section-title')]]"></oj-bind-text></h6>
        <oj-form-layout max-columns="1">
          <oj-input-text label-hint="[[labelMapper('external-tools-staging-directory-label')]]"
                         value="{{wktToolsExternalStagingDirectory}}"
                         help.instructions="[[labelMapper('external-tools-staging-directory-help')]]">
            <oj-button slot="end" display="icons" chroming="borderless" on-oj-action="[[chooseExternalToolsStagingDirectory]]">
              <span slot="endIcon" class="oj-ux-ico-folder" role="img"></span>
              <oj-bind-text value="[[labelMapper('external-tools-staging-directory-tooltip')]]"></oj-bind-text>
            </oj-button>
          </oj-input-text>
        </oj-form-layout>
      </div>
    </oj-bind-if>

    <div class="oj-panel">
      <h6 class="wkt-subheading"><oj-bind-text value="[[labelMapper('logging-section-title')]]"></oj-bind-text></h6>
      <oj-form-layout max-columns="1" direction="row">
        <oj-bind-if test="[[isDevMode() === true]]">
          <oj-c-select-single label-hint="[[labelMapper('console-level-label')]]"
                              value="{{consoleLogLevel}}"
                              data="[[logLevelsDP]]"
                              item-text="label"
                              help.instruction="[[labelMapper('console-level-help')]]">
          </oj-c-select-single>
        </oj-bind-if>
        <oj-c-select-single label-hint="[[labelMapper('file-level-label')]]"
                            value="{{fileLogLevel}}"
                            data="[[logLevelsDP]]"
                            item-text="label"
                            help.instruction="[[labelMapper('file-level-help')]]">
        </oj-c-select-single>
        <oj-input-text label-hint="[[labelMapper('file-dir-label')]]"
                       value="{{fileLogDir}}"
                       help.instruction="[[labelMapper('file-dir-help')]]">
          <oj-button slot="end" display="icons" chroming="borderless" on-oj-action="[[chooseLogFileDir]]">
            <span slot="endIcon" class="oj-ux-ico-file-text" role="img"></span>
            <oj-bind-text value="[[labelMapper('file-dir-tooltip')]]"></oj-bind-text>
          </oj-button>
        </oj-input-text>
      </oj-form-layout>
    </div>

    <div class="oj-panel">
      <h6 class="wkt-subheading"><oj-bind-text value="[[labelMapper('startup-connectivity-test-title')]]"></oj-bind-text></h6>
      <oj-form-layout max-columns="1" direction="row">
        <oj-input-number label-hint="[[labelMapper('startup-connectivity-timeout-label')]]"
                         min="1" max="60" step="1"
                         value="{{connectivityTestTimeoutSeconds}}"
                         help.instruction="[[labelMapper('startup-connectivity-timeout-help')]]">
        </oj-input-number>
      </oj-form-layout>
    </div>

    <div class="oj-panel">
      <h6 class="wkt-subheading"><oj-bind-text value="[[labelMapper('quickstart-section-title')]]"></oj-bind-text></h6>
      <oj-form-layout max-columns="1" direction="row">
        <oj-switch label-hint="[[labelMapper('quickstart-skip-label')]]"
                   value="{{skipQuickstart}}"
                   help.instruction="[[labelMapper('quickstart-skip-help')]]">
        </oj-switch>
      </oj-form-layout>
    </div>
  </div>

  <div slot="footer">
    <oj-button id="okButton" on-oj-action="[[saveSettings]]">
      <span><oj-bind-text value="[[i18n.t('dialog-button-ok')]]"></oj-bind-text></span>
    </oj-button>
    <oj-button id="cancelButton" on-oj-action="[[cancelSettings]]">
      <span><oj-bind-text value="[[i18n.t('dialog-button-cancel')]]"></oj-bind-text></span>
    </oj-button>
  </div>
</oj-dialog>
