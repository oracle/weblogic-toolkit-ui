<!--
 Copyright (c) 2024, 2026, Oracle and/or its affiliates.
 Licensed under The Universal Permissive License (UPL), Version 1.0 as shown at https://oss.oracle.com/licenses/upl/
 -->

<oj-table id="instances-table"
          class="wkt-model-edit-instances-table"
          :aria-label="[[ariaLabel]]"
          data="[[instancesProvider]]"
          display="grid"
          horizontal-grid-visible="enabled"
          vertical-grid-visible="enabled"
          layout="fixed"
          columns="[[instancesColumnData]]">
  <template slot="rowTemplate" data-oj-as="row">
    <tr>
      <td>
        <oj-c-labelled-link
          text="[[row.data.name]]"
          label-hint=""
          on-oj-action="[[editInstance]]"
        >
        </oj-c-labelled-link>
      </td>
      <oj-bind-if test="[[useTypeFolder]]">
        <td><oj-bind-text value="[[providerType(row.data)]]"></oj-bind-text></td>
      </oj-bind-if>
      <oj-bind-for-each data="[[attributes]]">
        <template data-oj-as="eachAttribute">
          <td>
            <oj-bind-if test="[[row.data[eachAttribute.data].isCredential]]">
              <oj-module config="[[credentialCellConfig(row.data[eachAttribute.data])]]"></oj-module>
            </oj-bind-if>
            <oj-bind-if test="[[!row.data[eachAttribute.data].isCredential]]">
              <oj-bind-text value="[[row.data[eachAttribute.data].value]]"></oj-bind-text>
            </oj-bind-if>
          </td>
        </template>
      </oj-bind-for-each>
      <oj-bind-if test="[[reorderable]]">
        <td>
          <div class="wkt-model-edit-reorder-cell">
          <oj-c-button display="icons"
                       chroming="borderless"
                       size="sm"
                       label="[[moveUpLabel]]"
                       disabled="[[!canMoveUp(row.data)]]"
                       on-oj-action="[[moveUp]]">
            <span slot="endIcon" class="oj-ux-ico-chevron-up"></span>
          </oj-c-button>
          <oj-c-button display="icons"
                       chroming="borderless"
                       size="sm"
                       label="[[moveDownLabel]]"
                       disabled="[[!canMoveDown(row.data)]]"
                       on-oj-action="[[moveDown]]">
            <span slot="endIcon" class="oj-ux-ico-chevron-down"></span>
          </oj-c-button>
          </div>
        </td>
      </oj-bind-if>
      <td>
        <oj-c-button display="icons"
                     chroming="borderless"
                     label="[[deleteLabel]]"
                     on-oj-action="[[deleteInstance]]">
          <span slot="endIcon" class="oj-ux-ico-trash"></span>
        </oj-c-button>
      </td>
    </tr>
  </template>
  <template slot="addHeaderTemplate" data-oj-as="header">
    <oj-c-button display="icons"
                 chroming="borderless"
                 label="[[addLabel]]"
                 on-oj-action="[[addInstance]]">
      <span slot="endIcon" class="oj-ux-ico-plus"></span>
    </oj-c-button>
  </template>
  <template slot="noData">
    <div class="oj-table-body-message">
      <oj-bind-text value="[[emptyMessage]]"></oj-bind-text>
    </div>
  </template>
</oj-table>
